buildscript {
    repositories {
        mavenCentral()
        mavenLocal()
        jcenter()
        maven {
            name = "github"
            url = "https://github.com/juanmuscaria/maven/raw/master"
        }
    }
    dependencies {
        classpath 'org.ow2.asm:asm:7.2' //FIXME: Temporary fix for something that should be fixed on forge gradle - juan
        classpath 'net.minecraftforge.gradle:ForgeGradle:[1.2-1.4.3-SNAPSHOT,)'
		classpath 'com.integral.grimoire:GrimoireShenanigans:' + grimoireShenanigansVersion
    }
}

plugins {
    id "com.jfrog.bintray" version "1.8.4"
}

project.evaluationDependsOn(":Grimoire-shared")
apply plugin: "maven"
apply plugin: 'maven-publish'
apply plugin: 'forge'
apply from: '../artifacts.gradle'
apply from: '../publish.gradle'
apply plugin: 'grimoire-shenanigans'

archivesBaseName = project.name

minecraft {
    version = "1.7.10-10.13.4.1614-1.7.10"
    runDir = "minecraft"
    srgExtra "PK: org/objectweb mixin/org/objectweb"
}

dependencies {
	implementation(project(':Grimoire-shared'))
	implementation('org.jetbrains:annotations:20.1.0')
    implementation name: "mixin-0.8.4"
    implementation name: "EventHelper-1.7.10-1.13.1-dummydev"
}

tasks.withType(Jar) {
	if (name.equals('jar') || name.equals('devJar')) {
		manifest {
			attributes([
					'FMLCorePlugin': "io.github.crucible.grimoire.mc1_7_10.GrimoireCoremod"
			])
		}
	}
}

jar.finalizedBy('reobf')